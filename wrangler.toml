name = "bullshit-detector"
main = "src/worker.ts"
compatibility_date = "2025-01-11"

# Enable workers.dev subdomain for API access
workers_dev = true

# Routes for custom domain (if configured)
routes = [
  "bullshitdetector.ai/ask",
  "bullshitdetector.ai/api/*",
  "bullshitdetector.ai/create-checkout-session",
  "bullshitdetector.ai/success"
]

# Note: KV namespace IDs will be added after user creates them
# Run: wrangler kv:namespace create "CACHE"
# Run: wrangler kv:namespace create "CACHE" --preview

[[kv_namespaces]]
binding = "CACHE"
id = "a3d2508ca6ea43118f4110e1197ec299"
preview_id = "fa625075ce614e41946719fdef703e0d"

# Cron triggers for scheduled tasks (model discovery + credit status)
# Runs daily at 00:00 UTC
[triggers]
crons = ["0 0 * * *"]

# Environment variables (set via: wrangler secret put <KEY_NAME>)
# Required secrets:
# - OPENAI_API_KEY
# - CLAUDE_API_KEY
# - MISTRAL_API_KEY
# - DEEPSEEK_API_KEY
# - STRIPE_SECRET_KEY
# - GEMINI_API_KEY
